<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    options = ['rock', 'paper', 'scissors'];

    function titleCase(string){
        return string[0].toUpperCase() + string.slice(1).toLowerCase();
    }

    function computerPlay() {
        // Return 'rock', 'paper', or 'scissors'.
        selection = Math.random()*options.length;
        floored_selection = Math.floor(selection);

        return options[floored_selection];
    }

    function selectionResult(playerSelection, computerSelection) {
        if (playerSelection == computerSelection){
            return 'tie';
        }

        // If player_choice loses to computerSelection.
        if (player_choice == 'rock'){
            if (computerSelection == 'scissors') {
                return 'win';
            }

            // We know the computer choice is paper here.
            return 'loss';
        }

        if (player_choice == 'scissors'){
            if (computerSelection == 'paper') {
                return 'win';
            }

            // We know the computer choice is rock here.
            return 'loss';
        }

        if (player_choice == 'paper'){
            if (computerSelection == 'rock') {
                return 'win';
            }

            // We know the computer choice is scissors here.
            return 'loss';
        }
    }

    function game(){
        console.log("Welcome to Rock Paper Scissors! \n");

        // Win count initialization.
        player_win_count = 0;
        computer_win_count = 0;

        while (player_win_count < 5 && computer_win_count < 5){
            player_choice = prompt("Player Score: " + player_win_count + "\nComputer Score: " + computer_win_count + "\nPlease input your Rock/Paper/Scissors selection: ").toLowerCase();

            // Sanity checking
            if (player_choice !== 'rock' && player_choice !== 'paper' && player_choice != 'scissors') {
                console.log("Erroneous answer: " + player_choice);
                continue;
            }

            computer_choice = computerPlay();

            game_results = selectionResult(player_choice, computer_choice);

            switch (game_results) {
                case 'win':
                    player_win_count++;
                    console.log("You Win! " + titleCase(player_choice) + " beats " + titleCase(computer_choice));
                    break;
                case 'loss':
                    computer_win_count++;
                    console.log("You Lose! " + titleCase(computer_choice) + " beats " + titleCase(player_choice));
                    break;
                default:
                    console.log("Tie! Try Again!");
                    break;
            }
        }

        // Return winner when either player or computer gets to 5 wins.
        if(computer_win_count > player_win_count){
            console.log("Computer wins with a score of " + computer_win_count + ' to ' + player_win_count + '!!!');
        } else {
            console.log("You win with a score of " + player_win_count + " to " + computer_win_count + '!!!');
        }
    }

    game();

  </script>
</body>
</html>